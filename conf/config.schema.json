{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "type": "object",
  "properties": {
    "isEnabled": {
      "description": "Whether the mailer module is enabled",
      "type": "boolean",
      "default": false,
      "_adapt": {
        "isPublic": true
      }
    },
    "connectionUrl": {
      "description": "Connection URL for the SMTP service",
      "type": "string",
      "format": "uri"
    },
    "defaultSenderAddress": {
      "description": "Default email address to use as the sender",
      "type": "string"
    },
    "pollerWaitTime": {
      "description": "How long the send success poller waits between polls (in seconds)",
      "type": "number",
      "default": 1
    }
  },
  "if": { 
    "properties": { 
      "isEnabled": { "const": true },
      "connectionUrl": { "type": "string" },
      "defaultSenderAddress": { "type": "string" }
    } 
  },
  "then": { 
    "required": ["connectionUrl", "defaultSenderAddress"] 
  }
}
